(this.webpackJsonpb0_react=this.webpackJsonpb0_react||[]).push([[0],{100:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a,r,c=n(50),o=n(2),s=n.n(o),u=n(66),i=n.n(u),l=(n(81),n(13)),p=n(27),d=n(8),j=n(12),b=n.n(j),g=n(25),h=n(21),m=n.n(h),O=(n(100),n(3)),f=function(){return Object(o.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_DRF"))}},e.next=4,m.a.get("rest/hikes/",t);case 4:return n=e.sent,a=n.data,console.log({data:a}),1,e.next=10,m.a.get("rest/hikesOnTrail/".concat(1,"/"),{});case 10:r=e.sent,console.log({data2:r.data}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(O.jsx)("div",{children:"Home Just Made Changes Huh"})},v=n(67),x=n.n(v),y=function(e){var t=e.setUploadedImage,n=e.uploadedImage,a=Object(o.useState)("Upload file please"),r=Object(l.a)(a,2),c=r[0],s=r[1],u=Object(o.useState)(null),i=Object(l.a)(u,2),p=i[0],d=i[1];console.log({file:p});var j=function(){var e=Object(g.a)(b.a.mark((function e(a){var r,c,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(r=new FormData).append("image",p),r.append("hikerID",2),e.prev=4,c={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_DRF")),"Content-Type":"multipart/form-data"}},e.next=8,m.a.post("rest/uploadImage/",r,c);case 8:o=e.sent,u=o.data,s(u),t(-1*n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),s("Error uploading file");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Upload: ",c]}),Object(O.jsxs)("form",{onSubmit:function(e){return j(e)},children:[Object(O.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];d(t)}(e)}}),Object(O.jsx)("input",{type:"submit",value:"DO IT NOW",className:x.a.myButton})]})]})},I=n(45),k=n(68),w=n(69),_=n(70),S=n(32),L=n.n(S),C=function(e){var t=e.isLoggedIn,n=e.uploadedImage,a=Object(o.useState)(null),r=Object(l.a)(a,2),c=r[0],s=r[1];return console.log({image:c}),Object(o.useEffect)((function(){s(null),function(){var e=Object(g.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_DRF"))}},e.next=4,m.a.get("rest/meQuery/",t);case 4:n=e.sent,a=n.data,console.log({meQuery:a}),s(a.image),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log({error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n]),Object(O.jsxs)("div",{children:["Header wowza",Object(O.jsx)(I.a,{icon:k.a,style:{fontSize:"3rem"}}),Object(O.jsx)(I.a,{icon:w.a,style:{fontSize:"2rem"}}),Object(O.jsx)(I.a,{icon:_.a,style:{fontSize:"1.3rem"}}),Object(O.jsxs)("div",{className:L.a.navBarContainer,children:[Object(O.jsx)(p.b,{className:L.a.navLink,to:"/",children:"Home"}),Object(O.jsx)(p.b,{className:L.a.navLink,to:"/upload",children:"Upload"}),Object(O.jsx)(p.b,{className:L.a.navLink,to:"/auth",children:"Auth"}),Object(O.jsx)("div",{className:L.a.navLink,children:Object(O.jsx)("div",{className:L.a.imageContainer,style:{backgroundImage:"url(".concat(c,")")}})})]})]})},B=n(28),N=n.n(B),D=function(e){var t=e.isLoggedIn,n=e.setIsLoggedIn,a=Object(o.useState)(t?"Log out if you wish":"Log in or register"),r=Object(l.a)(a,2),c=r[0],s=r[1],u=Object(o.useState)(1),i=Object(l.a)(u,2),p=i[0],j=i[1],h=Object(o.useState)(null),f=Object(l.a)(h,2),v=f[0],x=f[1],y=Object(o.useState)(null),I=Object(l.a)(y,2),k=I[0],w=I[1],_=Object(o.useState)(null),S=Object(l.a)(_,2),L=S[0],C=S[1],B=Object(d.f)(),D=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(a=new FormData).append("username",v),a.append("password",k),e.next=7,m.a.post("rest/token/",a,{});case 7:r=e.sent,c=r.data,console.log({data:c}),localStorage.setItem("token_DRF",c.access),n(!0),B.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.toJSON().message.includes("401")?s("Improper credentials. Try again."):s("Error Logging in");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(n=new FormData).append("username",v),n.append("password",k),n.append("email",L),e.next=8,m.a.post("rest/register/",n,{});case 8:a=e.sent,r=a.data,console.log({registerData:r}),j(1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),s("There was an error"),console.log({error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),R=1===p?"REGISTER":"LOG IN";return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Auth: ",c]}),t?Object(O.jsx)("div",{className:"".concat(N.a.myButton," ").concat(N.a.blue),onClick:function(){localStorage.removeItem("token_DRF"),n(!1)},children:"LOG OUT"}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"".concat(N.a.myButton," ").concat(N.a.blue),onClick:function(){C(null),x(null),w(null),j(-p)},children:R}),1===p?Object(O.jsxs)("form",{onSubmit:function(e){return D(e)},children:[Object(O.jsx)("input",{type:"text",placeholder:"username",onChange:function(e){return x(e.target.value)},value:v}),Object(O.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return w(e.target.value)},value:k}),Object(O.jsx)("input",{type:"submit",className:N.a.myButton,value:"LOG IN"})]},"form1"):Object(O.jsxs)("form",{onSubmit:function(e){return F(e)},children:[Object(O.jsx)("input",{type:"text",placeholder:"username",onChange:function(e){return x(e.target.value)},value:v}),Object(O.jsx)("input",{type:"text",placeholder:"email",onChange:function(e){return C(e.target.value)},value:L}),Object(O.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return w(e.target.value)},value:k}),Object(O.jsx)("input",{type:"submit",className:"".concat(N.a.myButton," ").concat(N.a.yellow),value:"REGISTER"})]},"form2")]})]})},F=function(){var e=Object(o.useState)(!!localStorage.getItem("token_DRF")),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(-1),c=Object(l.a)(r,2),s=c[0],u=c[1];return Object(O.jsxs)(p.a,{children:[Object(O.jsx)(C,{isLoggedIn:n,uploadedImage:s}),n?Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",component:f}),Object(O.jsx)(d.a,{exact:!0,path:"/upload",children:Object(O.jsx)(y,{setUploadedImage:u,uploadedImage:s})}),Object(O.jsx)(d.a,{exact:!0,path:"/auth",children:Object(O.jsx)(D,{isLoggedIn:n,setIsLoggedIn:a})})]}):Object(O.jsx)(D,{isLoggedIn:n,setIsLoggedIn:a})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},E=n(120),T=n(122),A=n(121),U=(n(123),n(119)),H=new E.a({uri:"https://www.soursips.com/graphql/",cache:new T.a});H.query({query:Object(A.a)(a||(a=Object(c.a)(["\n      {\n          hikers {\n              id\n              username\n          }\n      }\n    "])))}).then((function(e){return console.log({gqlResult:e})}));Object(A.a)(r||(r=Object(c.a)(["\n    query QueryName {\n        hikers {\n            id\n            username\n        }\n    }\n"])));i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(U.a,{client:H,children:Object(O.jsx)(F,{})})}),document.getElementById("root")),R()},28:function(e,t,n){e.exports={myButton:"Auth_myButton__1c9IU",red:"Auth_red__3FgBE",yellow:"Auth_yellow__1p69F",blue:"Auth_blue__3GBPU"}},32:function(e,t,n){e.exports={navBarContainer:"Header_navBarContainer__3jlZ8",navLink:"Header_navLink__3Cvbd",imageContainer:"Header_imageContainer__I6flN"}},67:function(e,t,n){e.exports={myButton:"Upload_myButton__qgoLH"}},81:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.c3b81681.chunk.js.map